services:
    hammerdb:
        network_mode: host
        platform: linux/amd64
        build: 
          context: .
          dockerfile: dockerfile
          platforms:
            - linux/amd64
        env_file:
          - hammerdb.env
        environment:
          - RUN_MODE
          - BENCHMARK
          - TMP=/tmp
        volumes:
          - ./scripts:/opt/HammerDB-5.0/scripts
          - ./output:/tmp
          - ./output/bcp_data_tpcc:/tmp/bcp_data_tpcc
          - ./output/bcp_data_tproch:/tmp/bcp_data_tproch
        command: ["/entrypoint.sh"]